---
description: è§„èŒƒåŒ– Git æäº¤å†å²ï¼ˆåˆå¹¶é‡å¤ + æ”¹å†™ä¸è§„èŒƒï¼‰
allowed-tools: Bash(git *), TodoWrite
---

## Context

- Recent commits: !`git log --oneline -30 --format="%h|%s|%ad" --date=format:'%Y-%m-%d'`
- Current branch: !`git branch --show-current`
- Remote status: !`git status -sb`
- Existing backup: !`git branch | grep 'back/normalize-'`

## Your task

åˆ†ææœ€è¿‘ 30 ä¸ªæäº¤ï¼Œè¯†åˆ«å¹¶å¤„ç†é‡å¤æäº¤å’Œä¸è§„èŒƒæäº¤ã€‚åˆ›å»º TodoList è·Ÿè¸ªè¿›åº¦ã€‚

### ç¬¬ä¸€é˜¶æ®µï¼šåˆ†æè¯†åˆ«

**è¯†åˆ«é‡å¤æäº¤**ï¼š
- å®Œå…¨ç›¸åŒçš„æ¶ˆæ¯
- ä»…æ•°å­—ä¸åŒï¼ˆ"ä¿®æ”¹1"ã€"ä¿®æ”¹2"ï¼‰
- æ— æ„ä¹‰æ¶ˆæ¯ï¼ˆ"1"ã€"test"ã€"wip"ã€"tmp"ï¼‰

**è¯†åˆ«ä¸è§„èŒƒæäº¤**ï¼š
ä¸ç¬¦åˆ Conventional Commits æ ¼å¼çš„æäº¤ã€‚

æ£€æµ‹è§„åˆ™ï¼š`^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+?\))?: .+`

**åˆ†ææäº¤å†…å®¹**ï¼š
å¯¹ä¸è§„èŒƒæäº¤æ‰§è¡Œ `git show <hash> --stat --format="%h|%s"` è·å– diffï¼Œæ¨æ–­ï¼š
- Typeï¼ˆä»å˜æ›´æ€§è´¨å’Œå…³é”®è¯ï¼‰
- Scopeï¼ˆä»æ–‡ä»¶è·¯å¾„ï¼‰
- Subjectï¼ˆä»åŸæ¶ˆæ¯ä¼˜åŒ–ï¼‰

**è¾“å‡ºåˆ†ææŠ¥å‘Šç¤ºä¾‹**ï¼š
```
ğŸ” æäº¤å†å²åˆ†ææŠ¥å‘Š

æ€»æäº¤æ•°ï¼š30

ã€éœ€è¦åˆå¹¶çš„é‡å¤æäº¤ã€‘
ç»„1: "æ›´æ–°" (3ä¸ªæäº¤)
  - a1b2c3d æ›´æ–° (2026-01-05)
  - d4e5f6g æ›´æ–° (2026-01-06)
  - h7i8j9k æ›´æ–° (2026-01-07)
  â†’ å»ºè®®åˆå¹¶ä¸ºï¼šchore: æ‰¹é‡æ›´æ–°é…ç½®å’Œä¾èµ–

ç»„2: "update submodule" (4ä¸ªæäº¤)
  - k1l2m3n update submodule (2026-01-03)
  - n4o5p6q update submodule (2026-01-04)
  â†’ å»ºè®®åˆå¹¶ä¸ºï¼šchore(submodule): æ›´æ–°å­æ¨¡å—ç‰ˆæœ¬

ã€éœ€è¦æ”¹å†™çš„ä¸è§„èŒƒæäº¤ã€‘
1. abc1234 "æ·»åŠ  skills submodule" (2026-01-08)
   å˜æ›´ï¼š.gitmodules, skills/ (æ–°å¢å­æ¨¡å—)
   â†’ å»ºè®®æ”¹å†™ä¸ºï¼šchore(submodule): æ·»åŠ  skills å­æ¨¡å—

2. def5678 "ä¿®æ”¹ blacklake plugin åç§°" (2026-01-07)
   å˜æ›´ï¼šplugins/blacklake-plugin/config.json (é‡å‘½å)
   â†’ å»ºè®®æ”¹å†™ä¸ºï¼šrefactor(plugin): é‡å‘½å blacklake plugin

ã€å·²è§„èŒƒçš„æäº¤ã€‘
- chore: add op-agent submodule âœ“
- feat: æ·»åŠ  WORKFLOW_DOMAIN_URL âœ“

ç»Ÿè®¡ï¼š
- éœ€è¦åˆå¹¶ï¼š7 â†’ 2 ä¸ªæäº¤
- éœ€è¦æ”¹å†™ï¼š15 ä¸ªæäº¤
- å·²è§„èŒƒï¼š8 ä¸ªæäº¤
```

### ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œå¤„ç†

1. **åˆ›å»ºå¤‡ä»½**ï¼š`back/normalize-$(date +%Y%m%d-%H%M%S)`

2. **åˆå¹¶é‡å¤æäº¤**ï¼šä½¿ç”¨ `git rebase -i` å°†é‡å¤æäº¤ squashï¼Œç”Ÿæˆè§„èŒƒçš„åˆå¹¶æ¶ˆæ¯

3. **æ”¹å†™ä¸è§„èŒƒæäº¤**ï¼šä½¿ç”¨ `git rebase -i` å°†ä¸è§„èŒƒæäº¤ reword ä¸ºè§„èŒƒæ ¼å¼

4. **éªŒè¯ç»“æœ**ï¼šæ£€æŸ¥æ‰€æœ‰æäº¤æ˜¯å¦ç¬¦åˆè§„èŒƒ

5. **è¾“å‡ºæŠ¥å‘Š**ï¼š
```
âœ… Git æäº¤å†å²è§„èŒƒåŒ–å®Œæˆï¼

æ‰§è¡Œç»“æœï¼š
- åˆå¹¶å‰æäº¤æ•°ï¼š30
- åˆå¹¶åæäº¤æ•°ï¼š18
- å‡å°‘æäº¤æ•°ï¼š12

åˆå¹¶è¯¦æƒ…ï¼š
1. ç»„1 "æ›´æ–°" (3â†’1) â†’ chore: æ‰¹é‡æ›´æ–°é…ç½®å’Œä¾èµ–
2. ç»„2 "update submodule" (4â†’1) â†’ chore(submodule): æ›´æ–°å­æ¨¡å—ç‰ˆæœ¬

æ”¹å†™è¯¦æƒ…ï¼š
1. "æ·»åŠ  skills" â†’ chore(submodule): æ·»åŠ  skills å­æ¨¡å—
2. "ä¿®æ”¹åç§°" â†’ refactor(plugin): é‡å‘½å blacklake plugin

å¤‡ä»½åˆ†æ”¯ï¼šback/normalize-20260108-143022

ä¸‹ä¸€æ­¥æ“ä½œï¼š
æ¨é€ï¼šgit push --force-with-lease
å›æ»šï¼šgit reset --hard back/normalize-20260108-143022
```

### Type æ¨æ–­è§„åˆ™

ä» git show çš„ diff åˆ†æï¼š
- æ–°å¢æ–‡ä»¶/åŠŸèƒ½ â†’ `feat`
- å…³é”®è¯ï¼ˆfix/bug/ä¿®å¤/issueï¼‰â†’ `fix`
- é‡æ„/é‡å‘½å â†’ `refactor`
- æ–‡æ¡£ï¼ˆ.md/READMEï¼‰â†’ `docs`
- æµ‹è¯•æ–‡ä»¶ â†’ `test`
- ä¾èµ–ï¼ˆpackage.jsonï¼‰â†’ `build`
- CI é…ç½®ï¼ˆ.github/.gitlab-ciï¼‰â†’ `ci`
- å­æ¨¡å—ï¼ˆ.gitmodulesï¼‰â†’ `chore(submodule)`
- é…ç½®/å·¥å…· â†’ `chore`
- æ€§èƒ½ç›¸å…³ â†’ `perf`

### Scope æ¨æ–­è§„åˆ™

ä»æ–‡ä»¶è·¯å¾„æå–ï¼š
- `src/api/*` â†’ `api`
- `src/ui/*|components/*` â†’ `ui`
- `plugins/*` â†’ `plugin`
- `*.gitmodules|submodule` â†’ `submodule`
- `config/*` â†’ `config`
- æ ¹ç›®å½•é…ç½® â†’ çœç•¥ scope

### æ³¨æ„äº‹é¡¹

- **å§‹ç»ˆåˆ›å»ºå¤‡ä»½**ï¼šåŒ…å«æ—¶é—´æˆ³é¿å…å†²çª
- **ä¿æŒæ—¶é—´é¡ºåº**ï¼šä¸æ”¹å˜æäº¤çš„åŸå§‹é¡ºåº
- **ä¿ç•™ä½œè€…ä¿¡æ¯**ï¼šåªä¿®æ”¹æ¶ˆæ¯ï¼Œä¸æ”¹ä½œè€…å’Œæ—¶é—´
- **æ·»åŠ  Co-Authored-By**ï¼šæ‰€æœ‰åˆå¹¶å’Œæ”¹å†™çš„æäº¤éƒ½æ·»åŠ 
- **æ£€æµ‹è¿œç¨‹çŠ¶æ€**ï¼šå¦‚å·²æ¨é€ï¼Œè­¦å‘Š force push é£é™©
- **éªŒè¯å½»åº•**ï¼šç¡®ä¿æ‰€æœ‰æäº¤ç¬¦åˆ Conventional Commits

### å®‰å…¨æªæ–½

- å¤‡ä»½åˆ†æ”¯å‘½åï¼š`back/normalize-YYYYMMDD-HHMMSS`
- æ¯æ¬¡ rebase åéªŒè¯ç»“æœ
- æä¾›å®Œæ•´çš„å›æ»šæŒ‡ä»¤
- é‡è¦æ“ä½œå‰ç­‰å¾…ç”¨æˆ·ç¡®è®¤
